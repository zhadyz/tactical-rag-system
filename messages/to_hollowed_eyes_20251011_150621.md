FROM: medicant_bias
TO: hollowed_eyes
SUBJECT: Tactical RAG Improvement Initiative - Begin Implementation
PRIORITY: high
DATE: 2025-10-11

---

## Setup Complete

Infrastructure is ready. The Tactical RAG system baseline is committed to git (c8dfad8).

**Your Mission**: Iterative improvement of the RAG system, demonstrating multi-agent coordination for portfolio showcase.

---

## Architecture & Context

**Read these first:**
- `docs/ARCHITECTURE.md` - Complete system architecture
- `README.md` - Current feature set and technical details
- `state.json` - Your task assignments and coordination state

**Current System Status:**
- âœ… 3-tier adaptive retrieval (simple/hybrid/advanced)
- âœ… GPU-accelerated processing
- âœ… Multi-layer caching
- âœ… Real-time performance monitoring
- âœ… Comprehensive evaluation suite

---

## Your Tasks (Sequential Execution)

### Milestone 1: Conversation Memory Enhancement
**Task ID**: dev-001
**Status**: PENDING â†’ Start here

**Goal**: Implement multi-turn conversation memory system

**Requirements:**
1. Create `_src/conversation_memory.py` with ConversationMemory class
2. Sliding window: Store last 10 exchanges
3. Auto-summarization: After 5 exchanges, use LLM to compress history
4. Integration: Update `app.py` query() method to use conversation memory
5. Context-aware: Follow-up questions should understand previous context

**Acceptance Criteria:**
- ConversationMemory class with add(), get_context(), summarize() methods
- Sliding window implementation (FIFO queue)
- LLM-based summarization (use existing self.llm)
- Integration with EnterpriseRAGSystem.query()
- Local testing: 5+ turn conversation maintains context
- Unit tests in test file

**Files to Modify:**
- `_src/conversation_memory.py` (NEW)
- `_src/app.py` (update query method, add ConversationMemory instance)

**When Complete:**
1. Test locally (multi-turn conversation)
2. Commit with message: `feat: HOLLOWED_EYES - Implement conversation memory system`
3. Update state.json: dev-001 status â†’ "complete"
4. Set handoffs.milestone_1_dev_complete â†’ true
5. Signal ZHADYZ (they'll test and document)

---

### Milestone 2: Explainability Features
**Task ID**: dev-002
**Status**: PENDING (wait for ops-001 to complete)

**Goal**: Add transparency to query classification and retrieval decisions

**Requirements:**
1. Create `_src/explainability.py` with QueryExplanation dataclass
2. Extend query classifier to return explanation (scoring breakdown)
3. Extend retrieval strategy selection to include reasoning
4. Update RetrievalResult to include explanation object
5. Update web UI to display explanations (collapsible section)

**Example Explanation:**
```
Query: "Why did the system fail and how can we prevent it?"
Classification: COMPLEX (score: 5)
Reasoning:
  - Length: 10 words (+2 points)
  - Question type: "why" (+3 points)
  - Complexity: "and" operator (+1 point)
  - Total: 5 > moderate_threshold(3) â†’ COMPLEX
Strategy: Advanced (multi-query expansion with consensus)
```

**When Complete:**
1. Test locally (verify explanations are clear)
2. Commit: `feat: HOLLOWED_EYES - Add query and retrieval explainability`
3. Update state.json: dev-002 â†’ "complete"
4. Set handoffs.milestone_2_dev_complete â†’ true

---

### Milestone 3: User Feedback System
**Task ID**: dev-003
**Status**: PENDING (wait for ops-002 to complete)

**Goal**: Implement feedback collection and learning loop

**Requirements:**
1. Create `_src/feedback_system.py` with FeedbackManager class
2. JSON-based feedback storage (`feedback.json`)
3. Feedback data: query, answer, rating (thumbs up/down), timestamp
4. Web UI: Add thumbs up/down buttons after each answer
5. Feedback analysis: Identify low-rated queries, failure patterns
6. Admin endpoint: View feedback statistics

**When Complete:**
1. Test locally (capture and view feedback)
2. Commit: `feat: HOLLOWED_EYES - Implement user feedback collection`
3. Update state.json: dev-003 â†’ "complete"
4. Set handoffs.milestone_3_dev_complete â†’ true

---

## Coordination Protocol

**After EACH task completion:**
1. âœ… Test locally
2. âœ… Commit to git (proper message format)
3. âœ… Update state.json (task status, handoffs)
4. âœ… Wait for ZHADYZ to complete corresponding ops task

**Communication:**
- Primary: state.json (update your status, ready_for_review flag)
- Messages: Create `messages/to_zhadyz_TIMESTAMP.md` if you need clarification

**State Updates:**
```json
// After dev-001
{
  "hollowed_eyes": {
    "status": "complete",
    "current_task": "dev-001",
    "ready_for_review": true
  },
  "tasks": [
    {
      "id": "dev-001",
      "status": "complete"
    }
  ],
  "handoffs": {
    "milestone_1_dev_complete": true
  }
}
```

---

## Your Standards

You code at PhD+ level:
- **Elegant**: Simple, beautiful solutions
- **Sophisticated**: Advanced patterns where appropriate
- **Well-tested**: Local testing before commit
- **Documented**: Clear docstrings and comments
- **Production-grade**: Error handling, logging, type hints

---

## Git Commit Format

```
feat: HOLLOWED_EYES - <Brief description>

<Detailed description of changes>

Files modified:
- _src/file1.py
- _src/file2.py

Testing:
- Local testing completed
- Acceptance criteria met

ðŸ¤– Multi-agent collaboration: Claude Code
```

---

## Portfolio Context

**Why This Matters:**
This project demonstrates multi-agent coordination (LangGraph/CrewAI patterns) for Booz Allen portfolio. Each git commit shows iterative agent collaboration.

**What Recruiters See:**
- Agent specialization (you = implementation, ZHADYZ = testing/docs)
- Coordination via state.json (no supervisor needed)
- Incremental development (clear progression)
- Production-quality code

---

## Next Steps

1. Read `docs/ARCHITECTURE.md` thoroughly
2. Review current codebase (especially `app.py`, `adaptive_retrieval.py`)
3. Start with dev-001 (Conversation Memory)
4. Update state.json when starting: `"current_task": "dev-001"`, `"status": "working"`
5. Implement, test, commit
6. Signal completion via state.json

---

## Notes from MEDICANT_BIAS

- All tasks have clear acceptance criteria - meet them
- Test locally before committing - quality over speed
- Coordinate with ZHADYZ via state.json - they'll handle docs and testing
- Each milestone builds on previous - follow sequence
- Ask questions if architecture is unclear (create message in messages/)

**I am terminating now. You and ZHADYZ will coordinate directly.**

The system is solid. Your improvements will make it exceptional.

Good luck.

â€” MEDICANT_BIAS

---

**Status**: READY
**First Task**: dev-001 (Conversation Memory)
**Next Agent**: ZHADYZ (will test and document after you complete)
